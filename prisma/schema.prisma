//TODO: CREATE PRISMA FILE SOON
generator client {
    provider = "prisma-client-js"
    binaryTargets = ["native", "debian-openssl-3.0.x"]
}

datasource db {
    provider = "mongodb"
    url = env("DATABASE_URL")
}

model User {
  id          String     @id @default(auto()) @map("_id") @db.ObjectId
  firebaseUid String     @unique
  profile     Profile
  interviews  Interview[]
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
}

type Profile {
  name      String
  email     String
  lastLogin DateTime
}

model Interview {
  id            String   @id @default(auto()) @map("_id") @db.ObjectId
  user          User     @relation(fields: [userId], references: [id])
  userId        String   @db.ObjectId
  date          DateTime
  score         Int
  improvements  String[]
  feedback      String?
  questions     Question[]
  duration      Int?
  interviewType String
  timestamp     DateTime @default(now())
}

type Question {
  question String
  answer   String?
  feedback String?
}
